<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zhangjie.dao.EmployeeDynamicMapper">
    <select id="getEmployeeByCondition" databaseId="mysql" resultType="emp">
        select * from tbl_employee where 1=1
        /* test 判断表达式（OGNL） 类似于 c:if test 从参数中取值进行判断,遇见特殊符号要写转义字符 */
        <if test="id!=null">
            and id = #{id}
        </if>
        <if test="lastName != null and lastName != ''">
            and last_name like #{lastName}
        </if>
        <if test="email != null and email.trim() != ''">
            and email like #{lastName}
        </if>
        /* OGNL 会进行字符串与数字的转换判断 "0"==0 */
        <if test=" gender == 0 or gender ==1 ">
            and gender = #{gender}
        </if>
    </select>

</mapper>